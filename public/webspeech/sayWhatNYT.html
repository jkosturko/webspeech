<script>
var reco = new WebSpeechRecognition();
</script>

<!DOCTYPE html>
<meta charset="utf-8">
<!-- <p></p> -->
<div id="status"></div><form class="speechOutput" action="http://google.com/search" method="get">
  <input  name="q" id="input_field" size="15">
</form><button class="mic" onclick="reco.toggleStartStop()" style="border: 0; background-color:transparent"><img id="status_img" src="http://webspeech.nytimes.com/webspeech/mic.gif" alt="Start"></button>

<script>
var reco = new WebSpeechRecognition();
reco.statusText('status');
reco.statusImage('status_img');
reco.finalResults('input_field');

reco.onEnd = function() {

	//List Travel Recommendations
	if (reco.final_transcript.indexOf("travel") != -1) {
		window.location.href = 'http://www.nytimes.com/interactive/2014/01/10/travel/2014-places-to-go.html?ref=travel';
	}

	//Show me a video of Rome
	if (reco.final_transcript.indexOf("Rome") != -1) {
		window.location.href = 'http://www.nytimes.com/video/travel/1248069152280/36-hours-in-rome.html';
	}

	//Go to homepage
	if (reco.final_transcript.indexOf("homepage") != -1) {
		window.location.href = 'http://www.nytimes.com/';
	}

	//List Nearby Jazz Events?
	if (reco.final_transcript.indexOf("jazz") != -1) {
		window.location.href = 'http://www.nytimes.com/events/index.html#2014-02-24/jazz/manhattan/alphabetical/';
	}

	//Find me restuaunts in Chelsea
	if (reco.final_transcript.indexOf("Chelsea") != -1) {
		window.location.href = 'http://www.nytimes.com/restaurants/search?&neighborhood=Chelsea&sortresults=nyt-rating&only_critics_picks=1';
	}

	//Weather in my current location
	if (reco.final_transcript.indexOf("weather") != -1) {
			window.location.href = 'http://www.nytimes.com/gst/weather.html?detail=156474';
	}


	if (reco.final_transcript.indexOf("email") != -1) {
		window.location.href = 'http://www.nytimes.com/most-popular-emailed';
	}

	//Baseball
	if (reco.final_transcript.indexOf("baseball") != -1) {
			window.location.href = 'http://www.nytimes.com/pages/sports/baseball/index.html';
	}
//articlke?

	if (reco.final_transcript.indexOf("theater") != -1) {
			window.location.href = 'http://www.nytimes.com/pages/theater/index.html';
	}


	if (reco.final_transcript.indexOf("football") != -1) {
			window.location.href = 'http://www.nytimes.com/pages/sports/football/index.html';
	}



	if (reco.final_transcript.indexOf("restaurant") != -1) {
		window.location.href = 'http://www.nytimes.com/restaurants/search/';
	}

	if (reco.final_transcript.indexOf("today's paper") != -1) {
			window.location.href = 'http://www.nytimes.com/pages/todayspaper/index.html';
	}


	if (reco.final_transcript.indexOf("Bill Cunningham") != -1) {
				window.location.href = 'http://www.nytimes.com/video/on-the-street/';
	}

	if (reco.final_transcript.indexOf("sports") != -1) {
			window.location.href = 'http://www.nytimes.com/pages/sports/index.html';
	}

	if (reco.final_transcript.indexOf("video") != -1) {

		if (reco.final_transcript.indexOf("business") != -1) {
				window.location.href = 'http://www.nytimes.com/video/business/';
		}

		if (reco.final_transcript.indexOf("technology") != -1) {
				window.location.href = 'http://www.nytimes.com/video/technology/';
		}		

	}	

	if (reco.final_transcript.indexOf("article") != -1) {
			
		if (reco.final_transcript.indexOf("random") != -1) {
			window.location.href = 'http://www.nytimes.com/2014/01/30/us/politics/democrats-look-to-tie-gop-senate-candidates-to-unpopular-house.html';
		}
	}

  if (reco.final_transcript != '') {
  	console.log(reco.final_transcript);
   // input_field.form.submit();
  }
};
</script>
